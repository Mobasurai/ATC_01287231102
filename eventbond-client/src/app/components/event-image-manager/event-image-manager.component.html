<div class="image-manager-container">
  <h3>Manage Event Images (Event ID: {{ eventId }})</h3>

  <!-- Error Message Display -->
  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <!-- Image Upload Section -->
  <div class="upload-section">
    <h4>Upload New Image</h4>
    <input type="file" (change)="onFileSelected($event)" #fileInput accept="image/*">
    <div class="form-check">
      <input type="checkbox" class="form-check-input" id="isPrimaryCheck" [(ngModel)]="isPrimaryImage">
      <label class="form-check-label" for="isPrimaryCheck">Set as Primary Image</label>
    </div>
    <button (click)="onUploadImage()" [disabled]="!selectedFile || uploading || !eventId">
      {{ uploading ? 'Uploading...' : 'Upload Image' }}
    </button>
  </div>

  <!-- Image Display Section -->
  <div class="display-section">
    <h4>Current Images</h4>
    <button (click)="loadEventImages()" [disabled]="loadingImages || !eventId">
      {{ loadingImages ? 'Loading...' : 'Refresh Images' }}
    </button>
    <div *ngIf="loadingImages" class="loading-indicator">Loading images...</div>
    
    <div *ngIf="!loadingImages && eventImages && eventImages.length > 0; else noImages" class="image-gallery">
      <div *ngFor="let image of eventImages" class="image-item">
        <img [src]="eventImageService.getImageUrl(image.id)" [alt]="'Event Image ' + image.id" class="thumbnail">
        <p>ID: {{ image.id }}</p>
        <p>Primary: <span [class.text-success]="image.isPrimary" [class.text-muted]="!image.isPrimary">{{ image.isPrimary ? 'Yes' : 'No' }}</span></p>
        <!-- Add delete button or other actions here if needed -->
      </div>
    </div>
    <ng-template #noImages>
      <p *ngIf="!loadingImages && eventId">No images found for this event.</p>
      <p *ngIf="!eventId">Please provide an Event ID to load images.</p>
    </ng-template>
  </div>

</div>
